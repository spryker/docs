---
title: Creating, Using and Extending the Transfer Objects
originalLink: https://documentation.spryker.com/v5/docs/ht-use-transfer-objects
redirect_from:
  - /v5/docs/ht-use-transfer-objects
  - /v5/docs/en/ht-use-transfer-objects
---

## Introduction
The article provides information on creation and usage of the Transfer objects.

### What do the Transfer Objects do?
Transfer objects are simple data containers. Their purpose is to retrieve a standardized way to access data and to get more expressive method signatures.

### Where is the command used?
Transfer objects are available everywhere in the system.

## Creating Transfer Objects
Transfer objects are defined in XML. The concrete classes are generated by an internal script.

### XML Definition
The following example describes a Customer with email, first name, last name and a `isGuest` flag:

```xml
<?xml version="1.0"?>
<transfers xmlns="spryker:transfer-01"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="spryker:transfer-01 http://static.spryker.com/transfer-01.xsd">

    <transfer name="Customer">
        <property name="email" type="string"/>
        <property name="firstName" type="string"/>
        <property name="lastName" type="string"/>
        <property name="isGuest" type="bool"/>
    </transfer>

</transfers>
```

### Available Types
You can use any name. The names start with a small letter and use camelCase format. You can use PHP native types: int, string, bool and array. In case you want to create a nested transfer object, just use the name of the transfer object as the type. You can also define collections of objects with the [] symbols.

```xml
<transfer name="MyTransfer">
    <property name="foo"    type="int" />
    <property name="bar"    type="string" />
    <property name="baz"    type="bool" />
    <property name="bat"    type="array" />
    <property name="item"   type="Foo" /> <!-- Foo is the name of another transfer object-->
    <property name="items"  type="Foo[]" />
</transfer>
```

Transfer object associative property attribute allows working with associative arrays and collections.

{% info_block infoBox %}
An associative array is an array with a string index where instead of a linear storage, each value can be assigned a specific key.
{% endinfo_block %}

The associative attribute can be used with all PHP native data types or collections.

Schema generation example can be found below:

```xml
<?xml version="1.0"?>
<transfers xmlns="spryker:transfer-01"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="spryker:transfer-01 http://static.spryker.com/transfer-01.xsd" >

    <transfer name="Foo">
        <property name="bars" type="Bar[]" singular="bar" associative="true" />
        <property name="bazs" type="array" singular="baz" associative="true" />
    </transfer>

    <transfer name="Bar">
        <property name="test" type="string"/>
    </transfer>

</transfers>
```

#### Associative arrays usage
See the examples of associative arrays usage below.

```php
$fooTransfer = new FooTranfer();

// adding transfers with associated keys
$fooTransfer->addBar('a', new Bar());
$fooTransfer->addBar('b', new Bar());

// setting a transfer object with associated keys
$bars = new \ArrayObject([
    'a' => new Bar(),
    'b' > new Bar(),
]);
$fooTransfer->setBars($bars);

// adding associated array items
$fooTransfer->addBaz('x', 'X');
$fooTransfer->addBaz('y', 'Y');

// setting an associated array
$fooTransfer->setBazs([
    'x' => 'X',
    'y' => 'Y',
]);
```

## Using the Transfer Objects
### Simple usage
The example shows a typical use case for a transfer object. The customer object is created and the setter are used to set email, first and last name.

```php
<?php
$customerTransfer = new CustomerTransfer();
$customerTransfer
    ->setEmail('john.doe@spryker.com')
    ->setFirstName('John')
    ->setLastName('Doe');

echo $customerTransfer->getFirstName(); // echos 'John'
```

### Object Nesting
Transfer objects can be nested. For instance a cart object contains several items like this:

```php
<?php
// first cart item
$cartItem1 = new ItemTransfer();
$cartItem1->setSku('123abc')->setQuantity(1);

// second cart item
$cartItem2 = new ItemTransfer();
$cartItem2->setSku('888abc')->setQuantity(1);

// a cart with two items
$cartTransfer = new CartTransfer();
$cartTransfer->addItem($cartItem1)->addItem($cartItem2);

// returns ItemTransfer[] as ArrayObject
$items = $cartTransfer->getItems();
```

### Checking the Required Fields
In general a transfer object must not know which fields are required, because it can be used for different use cases. But when you use a transfer object, you always expect the existence of specific parameters. This can be checked with a special require-method for each property:

```php
<?php
// This throws a RequiredTransferPropertyException if the first name is not set:
$customerTransfer->requireFirstName()->getFirstName();
```

### Property Constants
The transfer object exposes all properties as constants which can be used in forms and tables.

```php
<?php
ItemTransfer::SKU; // = 'sku'
CustomerTransfer::FIRST_NAME; // = 'firstName'
```

## File Location
Most of the modules define transfer objects in a dedicated XML file: `(ModuleNamespace)/Shared/Module/Transfer/module.transfer.xml`.

Therefore you can find the XML definition for the `CustomerGroup` module in `vendor/spryker/spryker/Bundles/CustomerGroup/src/Spryker/Shared/CustomerGroup/Transfer/customer_group.transfer.xml`.

### Adding Additional File Locations
If you have third-party modules using our transfer objects, you can easily add additional source directories in your projects. To do so, extend `Spryker\Zed\Transfer\TransferConfig` and return all additional glob-patterns from `getAdditionalSourceDirectoryGlobPatterns()`.

Let’s say you have a custom extension package called `my-vendor/my-package` that uses transfer objects. Using Composer, by default this package will install under `vendor/my-vendor/my-package`.
If you want your transfer objects to be created from definitions stored under `vendor/my-vendor/my-package/src/Transfer`, provide the necessary glob-pattern like so:

```php
<?php

namespace Pyz\Zed\Transfer;

use Spryker\Shared\Application\ApplicationConstants;
use Spryker\Shared\Config\Config;
use Spryker\Zed\Transfer\TransferConfig as SprykerTransferConfig;

class TransferConfig extends SprykerTransferConfig
{

    /**
     * @return string[]
     */
    protected function getAdditionalSourceDirectoryGlobPatterns()
    {
        return [
            APPLICARION_ROOT_DIR . '/vendor/my-vendor/my-package/src/Transfer/',
        ];
    }

}
```

{% info_block infoBox "Naming" %}
Please make sure your transfer object definition files end with `.transfer.xml` (even for your custom packages
{% endinfo_block %}.)

{% info_block warningBox "Glob patterns" %}
The Transfer module uses PHP's `glob(
{% endinfo_block %}` function to resolve paths.</br>For more information see: [PHP documentation](https://php.net/manual/en/function.glob.php).)

## Transfer Object Generation
To generate the objects there is a console command:

```bash
vendor/bin/console transfer:generate
```

This call will retrieve all `*.transfer.xml` files from project- and core-level, merge them and generate PHP classes: `src/Generated/Shared/Transfer/(Name)Transfer.php`.

## Transfer File Expansion
Transfer objects can be expanded from different bundles. Any other module can add properties to existing transfer objects. For instance the Tax module may expect a “customer tax-id”. So in the `tax.transfer.xml` you can add the required properties to the customer. Please obey that it is not possible to remove existing properties or to change their type.

```xml
<?xml version="1.0"?>
<transfers xmlns="spryker:transfer-01"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="spryker:transfer-01 http://static.spryker.com/transfer-01.xsd">

    <transfer name="Customer">
        <property name="taxId" type="int"/>
    </transfer>

</transfers>
```

After generation you can set and get the customer’s taxId like this:

```php
<?php
use \Generated\Shared\Transfer\CustomerTransfer;

$customerTransfer = new CustomerTransfer();
$customerTransfer->setTaxId(54321);
$taxId = $customerTransfer->getTaxId();
```

{% info_block warningBox %}
If you extend the existing transfer object, don't copy over all fields, only the fields you want to add on top.
{% endinfo_block %}

## Related Spryks
You might use the following definitions to generate related code:

* Add Shared Transfer Schema

See the [Spryk](https://documentation.spryker.com/docs/en/spryk-201903) documentation for details.
 

